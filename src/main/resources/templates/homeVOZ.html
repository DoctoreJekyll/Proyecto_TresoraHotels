<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/plantilla}" lang="es">
<head>
  <title>Hoteles Web</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <link th:href="@{/css/carousel_custom.css}" rel="stylesheet" />
  <link th:href="@{/css/hoteles_cards.css}" rel="stylesheet" />
  <link th:href="@{/css/aboutUs.css}" rel="stylesheet" />
  <link th:href="@{/css/reservaBar.css}" rel="stylesheet" />
  <link th:href="@{/css/reserva.css}" rel="stylesheet" />
<!--  &lt;!&ndash; Estilos para el bot√≥n de accesibilidad y el selector de voces &ndash;&gt;-->
<!--  <style>-->
<!--    #accessibilityBtn {-->
<!--      position: fixed;-->
<!--      top: 100px;-->
<!--      left: 30px;-->
<!--      z-index: 10;-->
<!--      background-color: #00BFFF;-->
<!--      color: white;-->
<!--      border: none;-->
<!--      border-radius: 50%;-->
<!--      width: 50px;-->
<!--      height: 50px;-->
<!--      font-size: 20px;-->
<!--      cursor: pointer;-->
<!--      box-shadow: 0 2px 5px rgba(0,0,0,0.3);-->
<!--    }-->
<!--    #accessibilityBtn:hover {-->
<!--      background-color: #00BFFF;-->
<!--    }-->
<!--    #voiceSelect {-->
<!--      position: fixed;-->
<!--      top: 55px;-->
<!--      left: 0;-->
<!--      z-index: 10;-->
<!--      padding: 5px;-->
<!--      font-size: 12px;-->
<!--      border-radius: 4px;-->
<!--      background-color: #fff;-->
<!--      color: #333;-->
<!--      border: 1px solid #ccc;-->
<!--      box-shadow: 0 2px 5px rgba(0,0,0,0.3);-->
<!--    }-->
<!--    #voiceSelect:focus {-->
<!--      outline: 2px solid #00BFFF;-->
<!--    }-->
<!--  </style>-->
</head>

<body class="bg-gradient-primary text-light">

<main layout:fragment="contenido">

<!--  &lt;!&ndash; Selector de voces &ndash;&gt;-->
<!--  <select id="voiceSelect" aria-label="Seleccionar voz para lectura">-->
<!--    <option value="" disabled selected>Selecciona una voz</option>-->
<!--  </select>-->

<!--  &lt;!&ndash; Bot√≥n de accesibilidad &ndash;&gt;-->
<!--  <button id="accessibilityBtn" aria-label="Leer contenido en voz alta" title="Leer contenido en voz alta">-->
<!--    üîä-->
<!--  </button>-->

  <!-- Resto del HTML (carrusel, secciones, etc.) permanece igual -->
  <!-- Carrusel Din√°mico de Hoteles -->
  <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
    <div class="carousel-indicators">
      <button type="button"
              th:each="hotel, iterStat : ${hotels}"
              th:attr="data-bs-target='#carouselExampleIndicators', data-bs-slide-to=${iterStat.index}"
              th:classappend="${iterStat.index == 0} ? 'active'">
      </button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item"
           th:each="hotel, iterStat : ${hotels}"
           th:classappend="${iterStat.index == 0} ? 'active'">
        <img th:src="${hotel.imageURL}" class="d-block w-100" th:alt="'Imagen del hotel ' + ${hotel.nombre}" />
        <div class="carousel-center-caption">
          <h2 th:text="${hotel.nombre}" class="tts-content">Nombre del hotel</h2>
          <p th:text="${hotel.descripcion}" class="tts-content">Descripci√≥n del hotel</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <!-- Secci√≥n Introducci√≥n -->
  <section class="py-5 text-center tts-section">
    <div class="container">
      <h1 class="display-4 tts-content">Hoteles Tresora</h1>
      <p class="lead tts-content">Tres destinos, una misma alma</p>
    </div>
  </section>

  <!-- Secci√≥n Descripci√≥n -->
  <section class="py-5 tts-section">
    <div class="container">
      <h3 class="tts-content">En Tresora, cada viaje es una b√∫squeda √∫nica, y cada destino, un hallazgo valioso. Nuestra cadena de hoteles nace de la uni√≥n de tres experiencias que atesoran lo mejor del descanso.</h3>
    </div>
  </section>

  <!-- Secci√≥n Sobre Nosotros -->
  <section class="py-5 text-center tts-section">
    <div class="container">
      <h1 class="display-4 tts-content">Sobre nosotros</h1>
      <p class="lead tts-content">Conoce al equipo detr√°s de la web.</p>
    </div>
  </section>

  <section class="swiper mySwiper py-5">
    <div class="swiper-wrapper">
      <div class="swiper-slide tts-section" th:each="miembro: ${equipo}">
        <img th:src="${miembro.imagenURL}" th:alt="'Imagen de ' + ${miembro.nombre}" />
        <h5 th:text="${miembro.nombre}" class="tts-content">Nombre Miembro</h5>
        <p th:text="${miembro.descripcion}" class="tts-content">Descripci√≥n del miembro</p>
        <ul class="social-links" th:if="${miembro.redesSociales} != null and ${#lists.size(miembro.redesSociales)} > 0">
          <li th:each="red : ${miembro.redesSociales}">
            <a th:href="${red.url}" th:text="${red.nombre}" target="_blank">Red Social</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </section>

  <!-- Secci√≥n Hoteles -->
  <section class="py-5 tts-section" style="padding-bottom: 6rem !important;">
    <div class="container-xl px-4" style="max-width: 100%;">
      <h2 class="text-center display-5 mb-5 tts-content" style="font-weight: 600;">Nuestros Hoteles</h2>
      <div class="row row-cols-1 row-cols-md-3 g-4">
        <div class="col" th:each="hotel : ${hotels}">
          <div class="card shadow-lg h-100 border-0 rounded-4 bg-gray text-dark">
            <img th:src="${hotel.imageURL}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="Imagen hotel">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title tts-content" th:text="${hotel.nombre}">Nombre Hotel</h5>
              <div class="mb-2">
                <span class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ</span><span class="text-muted">‚òÖ</span>
              </div>
              <p class="card-text flex-grow-1 tts-content" th:text="${hotel.descripcion}">Descripci√≥n</p>
              <p class="card-text"><strong th:text="'Desde ' + ${hotel.id} + '‚Ç¨ noche'">Precio</strong></p>
              <a class="btn btn-primary w-100 mt-auto" th:href="@{'/hotel/' + ${hotel.nombre}}" target="_blank">Reservar ahora</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Secci√≥n Servicios -->
  <section class="py-5 tts-section" style="padding-top: 6rem !important; padding-bottom: 6rem !important;">
    <div class="container text-center px-4">
      <h2 class="display-5 mb-5 tts-content" style="font-weight: 600;">Servicios Destacados</h2>
      <div class="swiper servicesSwiper" style="padding: 0 2rem;">
        <div class="swiper-wrapper">
          <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
            <img th:src="@{/images/spa.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Spa">
            <h5 class="tts-content">Spa & Wellness</h5>
            <p class="tts-content">Rel√°jate en nuestro completo spa con tratamientos exclusivos.</p>
          </div>
          <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
            <img th:src="@{/images/restaurante.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Restaurante">
            <h5 class="tts-content">Restaurante Gourmet</h5>
            <p class="tts-content">Cocina local e internacional en un entorno elegante.</p>
          </div>
          <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
            <img th:src="@{/images/gimnasio.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Gimnasio">
            <h5 class="tts-content">Gimnasio</h5>
            <p class="tts-content">Gimnasio con todas sus instalaciones.</p>
          </div>
        </div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </section>

  <!-- Carrusel Ubicaciones -->
  <section class="py-5 tts-section">
    <div class="d-flex justify-content-center">
      <div style="width: 70%;" class="rounded-4 shadow-lg overflow-hidden">
        <div id="locationCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="2"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item" th:each="hotel, iter : ${hotels}" th:classappend="${iter.index == 0} ? ' active'">
              <iframe th:src="${hotel.direccionURL}" width="100%" height="500" style="border:0;" allowfullscreen loading="lazy"></iframe>
              <div class="carousel-caption d-none d-md-block">
                <h5 th:text="${hotel.nombre}" class="tts-content">Nombre Hotel</h5>
                <p th:text="${hotel.direccion}" class="tts-content">Ubicaci√≥n</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#locationCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#locationCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Barra de reservas flotante -->
  <nav id="bookingBar">
    <form th:action="@{/reservahome}" method="get">
      <select name="hotelId" aria-label="Selecciona Hotel" required>
        <option selected disabled>Seleccione Hotel</option>
        <option th:each="hotel : ${hotels}" th:value="${hotel.id}" th:text="${hotel.nombre}">Hotel</option>
      </select>
      <input type="date" name="fechaEntrada" aria-label="Fecha Entrada" placeholder="Entrada" required>
      <input type="date" name="fechaSalida" aria-label="Fecha Salida" placeholder="Salida" required>
      <select name="adultos" aria-label="Adultos" required>
        <option value="1">1 Adulto</option>
        <option value="2">2 Adultos</option>
        <option value="3">3 Adultos</option>
        <option value="4">4 Adultos</option>
      </select>
      <button type="submit" aria-label="Buscar">Buscar</button>
    </form>
  </nav>

  <!-- Bot√≥n para abrir/cerrar la barra -->
  <button id="toggleBookingBtn" aria-expanded="true" aria-controls="bookingBar" title="Abrir/Cerrar barra reservas">
    ‚ò∞
  </button>

<!--  &lt;!&ndash; Script para Web Speech API con selector de voces &ndash;&gt;-->
<!--  <script>-->
<!--    // Referencias al bot√≥n y al selector-->
<!--    const accessibilityBtn = document.getElementById('accessibilityBtn');-->
<!--    const voiceSelect = document.getElementById('voiceSelect');-->
<!--    let isSpeaking = false;-->
<!--    let voices = [];-->

<!--    // Cargar voces disponibles-->
<!--    function loadVoices() {-->
<!--      voices = window.speechSynthesis.getVoices();-->
<!--      voiceSelect.innerHTML = '<option value="" disabled selected>Selecciona una voz</option>';-->
<!--      voices.forEach((voice, index) => {-->
<!--        const option = document.createElement('option');-->
<!--        option.value = index;-->
<!--        option.textContent = `${voice.name} (${voice.lang})`;-->
<!--        voiceSelect.appendChild(option);-->
<!--      });-->
<!--      // Seleccionar una voz en espa√±ol por defecto, si est√° disponible-->
<!--      const defaultVoice = voices.find(voice => voice.lang === 'es-ES' || voice.lang === 'es-MX');-->
<!--      if (defaultVoice) {-->
<!--        voiceSelect.value = voices.indexOf(defaultVoice);-->
<!--      }-->
<!--    }-->

<!--    // Cargar voces al iniciar y cuando cambien-->
<!--    window.speechSynthesis.onvoiceschanged = loadVoices;-->
<!--    loadVoices(); // Cargar voces inmediatamente-->

<!--    // Evento para alternar entre iniciar y detener la lectura-->
<!--    accessibilityBtn.addEventListener('click', function() {-->
<!--      if (isSpeaking) {-->
<!--        // Detener la lectura-->
<!--        window.speechSynthesis.cancel();-->
<!--        accessibilityBtn.innerHTML = 'üîä';-->
<!--        accessibilityBtn.setAttribute('aria-label', 'Leer contenido en voz alta');-->
<!--        accessibilityBtn.setAttribute('title', 'Leer contenido en voz alta');-->
<!--        isSpeaking = false;-->
<!--      } else {-->
<!--        // Iniciar la lectura-->
<!--        window.speechSynthesis.cancel(); // Limpiar cualquier reproducci√≥n previa-->

<!--        // Recolectar contenido marcado con la clase 'tts-content'-->
<!--        const contentElements = document.querySelectorAll('.tts-content');-->
<!--        let textToRead = '';-->

<!--        contentElements.forEach(element => {-->
<!--          textToRead += element.innerText + ' ';-->
<!--        });-->

<!--        // Configurar la s√≠ntesis de voz-->
<!--        const speech = new SpeechSynthesisUtterance(textToRead);-->
<!--        speech.lang = 'es-ES'; // Idioma base-->
<!--        speech.volume = 1; // Volumen (0 a 1)-->
<!--        speech.rate = 0.9; // Velocidad (0.1 a 10, 0.9 para mayor claridad)-->
<!--        speech.pitch = 1; // Tono (0 a 2)-->

<!--        // Usar la voz seleccionada-->
<!--        const selectedVoiceIndex = voiceSelect.value;-->
<!--        if (selectedVoiceIndex !== '' && voices[selectedVoiceIndex]) {-->
<!--          speech.voice = voices[selectedVoiceIndex];-->
<!--          speech.lang = voices[selectedVoiceIndex].lang; // Ajustar idioma seg√∫n la voz-->
<!--        } else {-->
<!--          // Fallback a una voz en espa√±ol-->
<!--          const spanishVoice = voices.find(voice => voice.lang === 'es-ES' || voice.lang === 'es-MX');-->
<!--          if (spanishVoice) {-->
<!--            speech.voice = spanishVoice;-->
<!--            speech.lang = spanishVoice.lang;-->
<!--          }-->
<!--        }-->

<!--        // Cambiar el bot√≥n a "detener"-->
<!--        accessibilityBtn.innerHTML = '‚èπ';-->
<!--        accessibilityBtn.setAttribute('aria-label', 'Detener lectura');-->
<!--        accessibilityBtn.setAttribute('title', 'Detener lectura');-->
<!--        isSpeaking = true;-->

<!--        // Reproducir el texto-->
<!--        window.speechSynthesis.speak(speech);-->

<!--        // Restaurar el bot√≥n cuando termine la lectura-->
<!--        speech.onend = () => {-->
<!--          accessibilityBtn.innerHTML = 'üîä';-->
<!--          accessibilityBtn.setAttribute('aria-label', 'Leer contenido en voz alta');-->
<!--          accessibilityBtn.setAttribute('title', 'Leer contenido en voz alta');-->
<!--          isSpeaking = false;-->
<!--        };-->
<!--      }-->
<!--    });-->

<!--    // Depuraci√≥n: mostrar voces disponibles-->
<!--    window.speechSynthesis.onvoiceschanged = () => {-->
<!--      loadVoices();-->
<!--      console.log(voices);-->
<!--    };-->
<!--  </script>-->

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script th:src="@{/js/swiper.js}"></script>
</main>

</body>
</html>