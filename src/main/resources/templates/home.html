<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/plantilla}" lang="es">
<head>
    <title>Hoteles Web</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link th:href="@{/css/carousel_custom.css}" rel="stylesheet" />
    <link th:href="@{/css/hoteles_cards.css}" rel="stylesheet" />
    <link th:href="@{/css/aboutUs.css}" rel="stylesheet" />
    <link th:href="@{/css/reservaBar.css}" rel="stylesheet" />
    <link th:href="@{/css/reserva.css}" rel="stylesheet" />
</head>

<body class="bg-gradient-primary text-light">

<main layout:fragment="contenido">

    <!-- Carrusel Dinámico de Hoteles -->
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">

        <!-- Indicadores -->
        <div class="carousel-indicators">
            <button type="button"
                    th:each="hotel, iterStat : ${hotels}"
                    th:attr="data-bs-target='#carouselExampleIndicators', data-bs-slide-to=${iterStat.index}"
                    th:classappend="${iterStat.index == 0} ? 'active'">
            </button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item"
                 th:each="hotel, iterStat : ${hotels}"
                 th:classappend="${iterStat.index == 0} ? 'active'">
                <img th:src="${hotel.imageURL}" class="d-block w-100" th:alt="'Imagen del hotel ' + ${hotel.nombre}" />
                <div class="carousel-center-caption">
                    <h2 th:text="${hotel.nombre}">Nombre del hotel</h2>
                    <p th:text="${hotel.descripcion}">Descripción del hotel</p>
                </div>
            </div>
        </div>
        <!-- Controles -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>


    <!-- Sección Introducción -->
    <section class="py-5 text-center">
        <div class="container">
            <h1 class="display-4">Hoteles Tresora</h1>
            <p class="lead">Tres destinos, una misma alma</p>
        </div>
    </section>

    <!-- Sección Descripción -->
    <section class="py-5">
        <div class="container">
            <h3>En Tresora, cada viaje es una búsqueda única, y cada destino, un hallazgo valioso. Nuestra cadena de hoteles nace de la unión de tres experiencias que atesoran lo mejor del descanso.</h3>
        </div>
    </section>

    <!-- Sección Sobre Nosotros -->
    <section class="py-5 text-center">
        <div class="container">
            <h1 class="display-4">Sobre nosotros</h1>
            <p class="lead">Conoce al equipo detrás de la web.</p>
        </div>
    </section>

    <section class="swiper mySwiper py-5">
        <div class="swiper-wrapper">
            <div class="swiper-slide" th:each="miembro: ${equipo}">
                <img th:src="${miembro.imagenURL}" th:alt="'Imagen de ' + ${miembro.nombre}" />
                <h5 th:text="${miembro.nombre}">Nombre Miembro</h5>
                <p th:text="${miembro.descripcion}">Descripción del miembro</p>
                <ul class="social-links" th:if="${miembro.redesSociales} != null and ${#lists.size(miembro.redesSociales)} > 0">
                    <li th:each="red : ${miembro.redesSociales}">
                        <a th:href="${red.url}" th:text="${red.nombre}" target="_blank">Red Social</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </section>

<!--    <section class="swiper mySwiper py-5">-->
<!--        <div class="swiper-wrapper">-->
<!--            <div class="swiper-slide">-->
<!--                <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Carlos Gómez">-->
<!--                <h5>Carlos Gómez</h5>-->
<!--                <p>CEO y fundador. Apasionado por la innovación hotelera.</p>-->
<!--                <ul class="social-links">-->
<!--                    <li><a href="https://linkedin.com/in/usuario" target="_blank">LinkedIn</a></li>-->
<!--                    <li><a href="https://twitter.com/usuario" target="_blank">Twitter</a></li>-->
<!--                </ul>-->
<!--            </div>-->
<!--            <div class="swiper-slide">-->
<!--                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Laura Pérez">-->
<!--                <h5>Laura Pérez</h5>-->
<!--                <p>Directora de marketing. Creativa, empática y visionaria.</p>-->
<!--            </div>-->
<!--            <div class="swiper-slide">-->
<!--                <img src="https://randomuser.me/api/portraits/men/76.jpg" alt="Andrés Rivera">-->
<!--                <h5>Andrés Rivera</h5>-->
<!--                <p>CTO. Arquitecto de soluciones modernas y escalables.</p>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="swiper-pagination"></div>-->
<!--        <div class="swiper-button-prev"></div>-->
<!--        <div class="swiper-button-next"></div>-->
<!--    </section>-->

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script th:src="@{/js/swiper.js}"></script>

    <!-- Sección Hoteles -->
    <section class="py-5" style="padding-bottom: 6rem !important;">
        <div class="container-xl px-4" style="max-width: 100%;">
            <h2 class="text-center display-5 mb-5" style="font-weight: 600;">Nuestros Hoteles</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <div class="col" th:each="hotel : ${hotels}">
                    <div class="card shadow-lg h-100 border-0 rounded-4 bg-gray text-dark">
                        <img th:src="${hotel.imageURL}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="Imagen hotel">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title" th:text="${hotel.nombre}">Nombre Hotel</h5>
                            <div class="mb-2">
                                <span class="text-warning">&#9733;&#9733;&#9733;&#9733;</span><span class="text-muted">&#9733;</span>
                            </div>
                            <p class="card-text flex-grow-1" th:text="${hotel.descripcion}">Descripción</p>
                            <p class="card-text"><strong th:text="'Desde ' + ${hotel.id} + '€ noche'">Precio</strong></p>
                            <a class="btn btn-primary w-100 mt-auto" th:href="@{/reservahome(id=${hotel.id})}" target="_blank">Reservar ahora</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Servicios -->


<!--    <section class="py-5" style="padding-top: 6rem !important; padding-bottom: 6rem !important;">-->
<!--        <div class="container text-center px-4">-->
<!--            <h2 class="display-5 mb-5" style="font-weight: 600;" th:text="${serviciosTitulo}">Servicios Destacados</h2>-->
<!--            <div class="swiper servicesSwiper" style="padding: 0 2rem;">-->
<!--                <div class="swiper-wrapper">-->
<!--                    <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark" th:each="servicio : ${servicios}">-->
<!--                        <img th:src="${servicio.imagenURL}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" th:alt="'Imagen de ' + ${servicio.nombre}">-->
<!--                        <h5 th:text="${servicio.nombre}">Servicio</h5>-->
<!--                        <p th:text="${servicio.descripcion}">Descripción</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="swiper-button-prev"></div>-->
<!--                <div class="swiper-button-next"></div>-->
<!--                <div class="swiper-pagination"></div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </section>-->


    <section class="py-5" style="padding-top: 6rem !important; padding-bottom: 6rem !important;">
        <div class="container text-center px-4">
            <h2 class="display-5 mb-5" style="font-weight: 600;">Servicios Destacados</h2>
            <div class="swiper servicesSwiper" style="padding: 0 2rem;">
                <div class="swiper-wrapper">
                    <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
                        <img th:src="@{/images/spa.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Spa">
                        <h5>Spa & Wellness</h5>
                        <p>Relájate en nuestro completo spa con tratamientos exclusivos.</p>
                    </div>
                    <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
                        <img th:src="@{/images/restaurante.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Restaurante">
                        <h5>Restaurante Gourmet</h5>
                        <p>Cocina local e internacional en un entorno elegante.</p>
                    </div>
                    <div class="swiper-slide p-4 bg-gray rounded-4 shadow text-dark">
                        <img th:src="@{/images/gimnasio.jpg}" class="mb-3" style="width:100%; height:200px; object-fit:cover;" alt="Gimnasio">
                        <h5>Gimnasio</h5>
                        <p>Gimnasio con todas sus instalaciones.</p>
                    </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>

    <!-- Carrusel Ubicaciones -->

    <section class="py-5">
        <div class="d-flex justify-content-center">
            <div style="width: 70%;" class="rounded-4 shadow-lg overflow-hidden">
                <div id="locationCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="1"></button>
                        <button type="button" data-bs-target="#locationCarousel" data-bs-slide-to="2"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item" th:each="hotel, iter : ${hotels}" th:classappend="${iter.index == 0} ? ' active'">
                            <!-- Solo usando la URL -->
                            <iframe th:src="${hotel.direccionURL}" width="100%" height="500" style="border:0;" allowfullscreen loading="lazy"></iframe>
                            <div class="carousel-caption d-none d-md-block">
                                <h5 th:text="${hotel.nombre}">Nombre Hotel</h5>
                                <p th:text="${hotel.direccion}">Ubicación</p>
                            </div>
                        </div>
                    </div>


                    <!-- Botones de control fuera de carousel-inner -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#locationCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#locationCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Siguiente</span>
                    </button>
                </div>
            </div>
        </div>
    </section>


<!--                    <div class="carousel-inner">-->
<!--                        <div class="carousel-item" th:each="hotel, iter : ${hotels}" th:classappend="${iter.index == 0} ? ' active'">-->
<!--                            <img th:src="${hotel.direccionURL}" th:alt="'Ubicación de ' + ${hotel.nombre}" width="100%" height="500">-->
<!--                            <div class="carousel-caption d-none d-md-block">-->
<!--                                <h5 th:text="${hotel.nombre}">Nombre Hotel</h5>-->
<!--                                <p th:text="${hotel.direccion}">Ubicación</p>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->



    <!-- Barra de reservas flotante -->
<!--    <nav id="bookingBar">-->
<!--        <select name="hotel" aria-label="Selecciona Hotel">-->
<!--            <option selected disabled>Seleccione Hotel</option>-->
<!--            <option th:each="hotel : ${hotels}" th:value="${hotel.id}" th:text="${hotel.nombre}">Hotel</option>-->
<!--        </select>-->
<!--        <input type="date" name="fechaEntrada" aria-label="Fecha Entrada" placeholder="Entrada">-->
<!--        <input type="date" name="fechaSalida" aria-label="Fecha Salida" placeholder="Salida">-->
<!--        <input type="text" name="habitacionesAdultos" placeholder="1 Hab / 2 Adultos" aria-label="Habitaciones y Adultos">-->
<!--        <button type="submit" aria-label="Buscar">Buscar</button>-->
<!--    </nav>-->

    <nav id="bookingBar">
        <form th:action="@{/reservahome}" method="get">
            <select name="hotelId" aria-label="Selecciona Hotel" required>
                <option selected disabled>Seleccione Hotel</option>
                <option th:each="hotel : ${hotels}" th:value="${hotel.id}" th:text="${hotel.nombre}">Hotel</option>
            </select>
            <input type="date" name="fechaEntrada" aria-label="Fecha Entrada" placeholder="Entrada" required>
            <input type="date" name="fechaSalida" aria-label="Fecha Salida" placeholder="Salida" required>
            <select name="adultos" aria-label="Adultos" required>
                <option value="1">1 Adulto</option>
                <option value="2">2 Adultos</option>
                <option value="3">3 Adultos</option>
                <option value="4">4 Adultos</option>
            </select>
            <button type="submit" aria-label="Buscar">Buscar</button>
        </form>
    </nav>





    <!-- Botón para abrir/cerrar la barra -->
    <button id="toggleBookingBtn" aria-expanded="true" aria-controls="bookingBar" title="Abrir/Cerrar barra reservas">
        &#9776;
    </button>

</main>

</body>
</html>
