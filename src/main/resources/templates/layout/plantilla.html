<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tresora Hotels</title>

    <!-- Estilos externos -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">
    <!-- Bootstrap para algunos iconos -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <link th:href="@{/css/estilos.css}" rel="stylesheet" />
    <link th:href="@{/css/Burbujas.css}" rel="stylesheet" />
</head>
<script th:src="@{/js/scrollButon.js}"></script>

<body>

<!--&lt;!&ndash; Selector de voces &ndash;&gt;-->
<!--<select id="voiceSelect" aria-label="Seleccionar voz para lectura">-->
<!--    <option value="" disabled selected>Selecciona una voz</option>-->
<!--</select>-->

<!--&lt;!&ndash; Bot√≥n de accesibilidad &ndash;&gt;-->
<!--<button id="accessibilityBtn" aria-label="Leer contenido en voz alta" title="Leer contenido en voz alta">-->
<!--    üîä-->
<!--</button>-->

<!-- NAVBAR -->
<nav class="navbar" style="background-color: #E0E0E0;">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <a class="navbar-brand" th:href="@{/}">
            <img th:src="@{/images/LogoTresora.png}" alt="Logo Tresora Hotels" style="height: 40px;">
        </a>

        <div class="d-flex align-items-center gap-2">
            <!-- Bot√≥n MEN√ö -->
            <button class="btn btn-outline-secondary d-flex align-items-center" type="button"
                    data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu">
                <span class="navbar-toggler-icon"></span>
                <span class="ms-2 d-none d-sm-inline">MEN√ö</span>
            </button>

            <!-- Dropdown usuario -->
            <div th:if="${usuario != null}" class="dropdown">
                <a class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center" href="#" role="button"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fa-solid fa-user me-1"></i>
                    <span class="d-none d-sm-inline" th:text="${usuario.nombre}">Usuario</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                        <a class="dropdown-item" th:if="${#strings.toLowerCase(usuario.idRol.nombreRol) == 'cliente'}" th:href="@{/usuarios/userhome}">
                            Inicio
                        </a>
                        <a class="dropdown-item" th:unless="${#strings.toLowerCase(usuario.idRol.nombreRol) == 'cliente'}" th:href="@{/panel}">
                            Inicio
                        </a>
                    </li>
                    <li><a class="dropdown-item" th:href="@{'/usuarios/reserva/' + ${usuario.id}}">Mis Reservas</a></li>
                    <li><a class="dropdown-item" th:href="@{/usuarios/miPerfil}">Perfil</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <form th:action="@{/logout}" method="post" class="dropdown-item p-0">
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                            <button type="submit" class="btn w-100 text-start" style="background: none; border: none;">
                                Cerrar sesi√≥n
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Men√∫ lateral offcanvas -->
    <div class="offcanvas offcanvas-start offcanvas-fullscreen" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasMenuLabel">Men√∫</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
        </div>
        <div class="offcanvas-body d-flex flex-column align-items-start">
            <a class="nav-link fs-4 mb-2" th:href="@{/login}">Acceso</a>
            <a class="nav-link fs-4 mb-2" th:href="@{/reservaPlaya}">Reserva Hotel Playa</a>
            <a class="nav-link fs-4 mb-2" th:href="@{/reservaMonta√±a}">Reserva Hotel Monta√±a</a>
            <a class="nav-link fs-4 mb-2" th:href="@{/hoteles}">Hoteles</a>
            <a class="nav-link fs-4 mb-2" href="#">Servicios</a>
            <a class="nav-link fs-4 mb-2" th:href="@{/contact}">Contacto</a>
        </div>
    </div>
</nav>

<!-- ----------------------------------------Reserva Rapida----------------------------------------------------------------------------------------- -->
<a th:href="@{/reservarapida}" target="_blank" class="d-block-text text-center reserva_rapida" aria-label="Reserva r√°pida">
    <p style= "margin: 0; font-size: 0.8rem; color: #FFFFFF; letter-spacing: 2px; font-weight: bold;">RESERVA</p>
    <i class="bi bi-rocket" style="font-size: 1.75rem; color: #FFFFFF;"></i>
</a>

<!-- --------------------------------------------------------------------------------------------------------------------------------- -->

<!-- CONTENIDO -->
<main id="contenido-principal" layout:fragment="contenido">
    <!-- Este contenido ser√° reemplazado por cada vista -->
</main>

<!-- Bot√≥n de desplazamiento hacia arriba -->
<button id="scroll-top-btn" aria-label="Volver al inicio de la p√°gina" title="Volver arriba">
    &uarr;
</button>
<!-- Bot√≥n para activar/desactivar la funcionalidad de voz -->
<button id="toggleVoiceBtn" aria-label="Activar lectura en voz alta" aria-checked="false" title="Activar/Desactivar lectura en voz alta">
    <i class="bi bi-volume-up"></i>
</button>

<!--&lt;!&ndash; Script para Web Speech API con selector de voces &ndash;&gt;-->
<!--<script>-->
<!--    // Referencias al bot√≥n y al selector-->
<!--    const accessibilityBtn = document.getElementById('accessibilityBtn');-->
<!--    const voiceSelect = document.getElementById('voiceSelect');-->
<!--    let isSpeaking = false;-->
<!--    let voices = [];-->

<!--    // Cargar voces disponibles-->
<!--    function loadVoices() {-->
<!--        voices = window.speechSynthesis.getVoices();-->
<!--        voiceSelect.innerHTML = '<option value="" disabled selected>Selecciona una voz</option>';-->
<!--        voices.forEach((voice, index) => {-->
<!--            const option = document.createElement('option');-->
<!--            option.value = index;-->
<!--            option.textContent = `${voice.name} (${voice.lang})`;-->
<!--            voiceSelect.appendChild(option);-->
<!--        });-->
<!--        // Seleccionar una voz en espa√±ol por defecto, si est√° disponible-->
<!--        const defaultVoice = voices.find(voice => voice.lang === 'es-ES' || voice.lang === 'es-MX');-->
<!--        if (defaultVoice) {-->
<!--            voiceSelect.value = voices.indexOf(defaultVoice);-->
<!--        }-->
<!--    }-->

<!--    // Cargar voces al iniciar y cuando cambien-->
<!--    window.speechSynthesis.onvoiceschanged = loadVoices;-->
<!--    loadVoices(); // Cargar voces inmediatamente-->

<!--    // Evento para alternar entre iniciar y detener la lectura-->
<!--    accessibilityBtn.addEventListener('click', function() {-->
<!--        if (isSpeaking) {-->
<!--            // Detener la lectura-->
<!--            window.speechSynthesis.cancel();-->
<!--            accessibilityBtn.innerHTML = 'üîä';-->
<!--            accessibilityBtn.setAttribute('aria-label', 'Leer contenido en voz alta');-->
<!--            accessibilityBtn.setAttribute('title', 'Leer contenido en voz alta');-->
<!--            isSpeaking = false;-->
<!--        } else {-->
<!--            // Iniciar la lectura-->
<!--            window.speechSynthesis.cancel(); // Limpiar cualquier reproducci√≥n previa-->

<!--            // Recolectar contenido marcado con la clase 'tts-content'-->
<!--            const contentElements = document.querySelectorAll('.tts-content');-->
<!--            let textToRead = '';-->

<!--            contentElements.forEach(element => {-->
<!--                textToRead += element.innerText + ' ';-->
<!--            });-->

<!--            // Configurar la s√≠ntesis de voz-->
<!--            const speech = new SpeechSynthesisUtterance(textToRead);-->
<!--            speech.lang = 'es-ES'; // Idioma base-->
<!--            speech.volume = 1; // Volumen (0 a 1)-->
<!--            speech.rate = 0.9; // Velocidad (0.1 a 10, 0.9 para mayor claridad)-->
<!--            speech.pitch = 1; // Tono (0 a 2)-->

<!--            // Usar la voz seleccionada-->
<!--            const selectedVoiceIndex = voiceSelect.value;-->
<!--            if (selectedVoiceIndex !== '' && voices[selectedVoiceIndex]) {-->
<!--                speech.voice = voices[selectedVoiceIndex];-->
<!--                speech.lang = voices[selectedVoiceIndex].lang; // Ajustar idioma seg√∫n la voz-->
<!--            } else {-->
<!--                // Fallback a una voz en espa√±ol-->
<!--                const spanishVoice = voices.find(voice => voice.lang === 'es-ES' || voice.lang === 'es-MX');-->
<!--                if (spanishVoice) {-->
<!--                    speech.voice = spanishVoice;-->
<!--                    speech.lang = spanishVoice.lang;-->
<!--                }-->
<!--            }-->

<!--            // Cambiar el bot√≥n a "detener"-->
<!--            accessibilityBtn.innerHTML = '‚èπ';-->
<!--            accessibilityBtn.setAttribute('aria-label', 'Detener lectura');-->
<!--            accessibilityBtn.setAttribute('title', 'Detener lectura');-->
<!--            isSpeaking = true;-->

<!--            // Reproducir el texto-->
<!--            window.speechSynthesis.speak(speech);-->

<!--            // Restaurar el bot√≥n cuando termine la lectura-->
<!--            speech.onend = () => {-->
<!--                accessibilityBtn.innerHTML = 'üîä';-->
<!--                accessibilityBtn.setAttribute('aria-label', 'Leer contenido en voz alta');-->
<!--                accessibilityBtn.setAttribute('title', 'Leer contenido en voz alta');-->
<!--                isSpeaking = false;-->
<!--            };-->
<!--        }-->
<!--    });-->

<!--    // Depuraci√≥n: mostrar voces disponibles-->
<!--    window.speechSynthesis.onvoiceschanged = () => {-->
<!--        loadVoices();-->
<!--        console.log(voices);-->
<!--    };-->
<!--</script>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- FOOTER -->
<footer class="mt-5 pt-4 pb-3 rounded">
    <div class="container">
        <div class="row text-center text-md-start">
            <div class="col-md-4 mb-4 mb-md-0 mt-2">
                <h5>Contacto</h5>
                <p class="mb-1">Calle Ejemplo 123</p>
                <p class="mb-1">+34 600 123 456</p>
                <p class="mb-0">contacto@hotel.com</p>
            </div>
            <div class="col-md-4 text-md-center mb-4 mb-md-0 mt-2">
                <p class="mb-2">¬© 2025 Todos los derechos reservados</p>
                <p class="mb-2">S√≠guenos en:</p>
                <div>
                    <a href="#" class="me-3"><i class="fa-brands fa-facebook"></i></a>
                    <a href="#" class="me-3"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" class="me-3"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-tiktok"></i></a>
                </div>
            </div>
            <div class="col-md-4 text-md-end mt-2">
                <h5>Conoce m√°s sobre nosotros</h5>
                <p class="mb-1">
                    <i class="fa-brands fa-linkedin"></i>
                    <a href="https://www.linkedin.com/in/natalia-garcia-rodriguez/" target="_blank" rel="noopener noreferrer">
                        Natalia Garc√≠a Rodr√≠guez
                    </a>
                </p>
                <p class="mb-1">
                    <i class="fa-brands fa-linkedin"></i>
                    <a href="https://www.linkedin.com/in/jose-rodriguez-martin/" target="_blank" rel="noopener noreferrer">
                        Jose Antonio Rodr√≠guez Mart√≠n
                    </a>
                </p>
                <p class="mb-1">
                    <i class="fa-brands fa-linkedin"></i>
                    <a href="https://www.linkedin.com/in/luciabeltraninfante" target="_blank" rel="noopener noreferrer">
                        Luc√≠a Beltr√°n Infante
                    </a>
                </p>
                <p class="mb-1">
                    <i class="fa-brands fa-linkedin"></i>
                    <a href="https://www.linkedin.com/in/alvaro-fernandez-sevilla/" target="_blank" rel="noopener noreferrer">
                        √Ålvaro Fern√°ndez Sevilla
                    </a>
                </p>
                <p class="mb-1">
                    <i class="fa-brands fa-linkedin"></i>
                    <a href="https://www.linkedin.com/in/alba-guti%C3%A9rrez-garc%C3%ADa/" target="_blank" rel="noopener noreferrer">
                        Alba Guti√©rrez Garc√≠a
                    </a>
                </p>
            </div>
        </div>
    </div>
</footer>
<script th:src="@{/js/voice.js}"></script>
</body>
</html>
